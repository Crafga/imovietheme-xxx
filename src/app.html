<!DOCTYPE html>
<html lang="en" class="dark">
	<head>
		<meta charset="utf-8" />
		
		<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

		<!-- Preconnect to external domains for faster loading -->
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link rel="preconnect" href="https://cdn.jsdelivr.net" />

		<!-- DNS prefetch for performance -->
		<link rel="dns-prefetch" href="//fonts.googleapis.com" />
		<link rel="dns-prefetch" href="//fonts.gstatic.com" />
		<link rel="dns-prefetch" href="//cdn.jsdelivr.net" />

		<!-- PWA Meta Tags -->
		<meta name="theme-color" content="#1a1a1a" />
		<meta name="mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		<meta name="format-detection" content="telephone=no" />

		<!-- Security Headers -->
		<meta http-equiv="X-Content-Type-Options" content="nosniff" />
		<meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin" />

		<!-- Critical theme loading script - runs immediately -->
		<script>
			// Get theme from server-injected data-theme or fallback
			(function() {
				const html = document.documentElement.outerHTML;
				const themeMatch = html.match(/data-theme="([^"]*)"/);
				const theme = (themeMatch && themeMatch[1]) || 'skeleton';
				
				// Set theme immediately to prevent flash
				if (typeof document !== 'undefined') {
					document.documentElement.style.setProperty('--theme-loading', theme);
					// This will be updated by hooks.server transformPageChunk
				}
			})();
		</script>
		
		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="hover" data-theme="">
		<div style="display: contents" class="h-full overflow-hidden">%sveltekit.body%</div>
	</body>
</html>
